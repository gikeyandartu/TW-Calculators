<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropdown Table Generator</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }
        input[type="number"] {
            width: 100%;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Table Generator</h1>

    <!-- Dropdown -->
    <label for="numberSelect">Select a number:</label>
    <select id="numberSelect" onchange="generateTable()">
        <!-- Options from 2 to 10 -->
        <option value="">Grima</option>
        <option value="3">2</option>
        <option value="9">3</option>
        <option value="27">4</option>
        <option value="81">5</option>
        <option value="243">6</option>
        <option value="729">7</option>
        <option value="2187">8</option>
        <option value="6561">9</option>
        <option value="19683">10</option>
    </select>

    <!-- Placeholder for the generated table -->
    <div id="tableContainer"></div>

    <!-- Result Label -->
    <div id="resultLabel"></div>

    <script>
        function generateTable()
        {
            const dropdown = document.getElementById('numberSelect');
            const selectedText = dropdown.options[dropdown.selectedIndex].text;  // Get the text of the selected option
            
            if (!selectedText || selectedText === "Select")  // Ensure a valid option is selected
            {
                document.getElementById('tableContainer').innerHTML = "";
                document.getElementById('resultLabel').innerText = "";  // Clear result label
                return;
            }

            // Use the selectedText to determine the number of rows
            const numberOfRows = selectedText - 1;  // Subtract 1 as per your requirement

            let table = "<table><thead><tr><th>Label</th><th>Input</th></tr></thead><tbody>";

            for (let i = 0; i < numberOfRows; i++)
            {
                let inputId = `input${i + 1}`;
                table += `<tr>
                            <td>Level ${i + 1}</td>
                            <td><input type="number" id="${inputId}" name="${inputId}" min="0" /></td>
                          </tr>`;
            }

            table += "</tbody></table>";

            // Add the Calculate button below the table
            table += `<button id="calculateButton" onclick="calculateTotal()">Calculate</button>`;

            document.getElementById('tableContainer').innerHTML = table;
        }

        function calculateTotal()
{
    let total = 0;
    const inputs = document.querySelectorAll('input[type="number"]');

    for (let i = 0; i < inputs.length; i++) {
        const value = parseFloat(inputs[i].value) || 0; // Use 0 if no value is entered
        total += value * (3 ** i);
    }
    const dropdown = document.getElementById('numberSelect');
    var x = dropdown.options[dropdown.selectedIndex].value - total;

    document.getElementById('resultLabel').innerText = `Total Needed: ${x}`;
}

    </script>
</body>
</html>
